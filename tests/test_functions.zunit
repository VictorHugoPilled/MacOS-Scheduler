#!/usr/bin/env zunit

@test 'testparseCSVWithCSV' {
      load /Users/earlchase/documents/scheduler/scheduler.sh
      export csv='scheduler.csv'
      result=$(parseCSV $csv)
      assert $result is_not_empty
      assert $result does_not_contain 'File not found'
}

@test 'testparseCSVWithNoCSV' {
      load /Users/earlchase/documents/scheduler/scheduler.sh
      result=$(parseCSV)
      assert $result is_not_empty
      assert $result same_as 'File not found'
}

@test 'testgetTodaysScriptsWithCSV' {
      load /Users/earlchase/documents/scheduler/scheduler.sh
      export csv='scheduler.csv'
      result=$(getTodaysScripts $csv)
      assert $result is_not_empty
      assert $result does_not_contain 'No scripts today'
      
}

@test 'testgetTodaysScriptsWithNoCSV' {
      load /Users/earlchase/documents/scheduler/scheduler.sh
      result=$(getTodaysScripts)
      assert $result is_empty

      
}

@test 'testScheduleNonExistentFile' {
      load /Users/earlchase/documents/scheduler/scheduler.sh
      

}

@test 'testScheduleFileExists' {
      load /Users/earlchase/documents/scheduler/scheduler.sh
      	 

}

@test 'testMainWithCSV' {
      load /Users/earlchase/documents/scheduler/scheduler.sh
      result=$(main)
      assert $result same_as 'Done'
      
      
}

@test 'testMainNoCSV' {

      load /Users/earlchase/documents/scheduler/scheduler.sh
      result=$(main)
      assert $result is_empty
      
}